# Phase 3: 二分类模型验证报告
**项目**: SIF/SGF 肽类稳定性特征提取
**阶段**: Phase 3 - 简单模型验证
**完成日期**: 2025-11-14
**状态**: ✅ 已完成

---

## 1. 项目背景

根据 `docs/dev/项目进度.md` 的规划，Phase 3 的目标是：

1. **二分类转化**: 根据每个专利数据集的标签中位数将样本分为"稳定"和"不稳定"
2. **交叉验证**: 5-fold 分层交叉验证，训练 Logistic Regression、Random Forest、XGBoost
3. **特征重要性分析**: 使用 Random Forest 和 XGBoost 分析特征重要性
4. **模型迁移测试**: 在一个专利上训练，在另一个专利上测试

本报告总结 Phase 3 的实施细节和模型性能。

---

## 2. 交叉验证结果

### 2.1 SIF 稳定性预测

| 数据集 | 模型 | F1 Score | Accuracy | Precision | Recall | AUC |
|--------|------|----------|----------|-----------|--------|-----|
| US20140294902A1 | LR | 1.0000 ± 0.0000 | 1.0000 ± 0.0000 | 1.0000 ± 0.0000 | 1.0000 ± 0.0000 | 1.0000 ± 0.0000 |
| US20140294902A1 | RF | 1.0000 ± 0.0000 | 1.0000 ± 0.0000 | 1.0000 ± 0.0000 | 1.0000 ± 0.0000 | 1.0000 ± 0.0000 |
| US20140294902A1 | XGB | 0.3333 ± 0.3333 | 0.4167 ± 0.0833 | 0.2500 ± 0.2500 | 0.5000 ± 0.5000 | 0.5000 ± 0.0000 |
| US9624268 | LR | 0.7358 ± 0.0348 | 0.6923 ± 0.0344 | 0.7371 ± 0.0350 | 0.7358 ± 0.0462 | 0.6930 ± 0.0739 |
| US9624268 | RF | 0.6904 ± 0.0881 | 0.6462 ± 0.0923 | 0.7005 ± 0.0647 | 0.6842 ± 0.1145 | 0.7494 ± 0.0904 |
| US9624268 | XGB | 0.6902 ± 0.0559 | 0.6385 ± 0.0522 | 0.6918 ± 0.0520 | 0.6967 ± 0.0921 | 0.7074 ± 0.0496 |
| US9809623B2 | LR | 0.7521 ± 0.0330 | 0.6708 ± 0.0430 | 0.7756 ± 0.0387 | 0.7309 ± 0.0366 | 0.7187 ± 0.0882 |
| US9809623B2 | RF | 0.7910 ± 0.0280 | 0.6975 ± 0.0302 | 0.7513 ± 0.0341 | 0.8436 ± 0.0828 | 0.7870 ± 0.0764 |
| US9809623B2 | XGB | 0.7959 ± 0.0355 | 0.7108 ± 0.0508 | 0.7762 ± 0.0598 | 0.8255 ± 0.0761 | 0.6920 ± 0.1011 |
| WO2017011820A2 | LR | 0.7892 ± 0.0716 | 0.7413 ± 0.0865 | 0.8158 ± 0.0801 | 0.7700 ± 0.0872 | 0.7811 ± 0.0729 |
| WO2017011820A2 | RF | 0.8492 ± 0.0560 | 0.8040 ± 0.0774 | 0.8422 ± 0.0887 | 0.8600 ± 0.0374 | 0.8259 ± 0.0886 |
| WO2017011820A2 | XGB | 0.8360 ± 0.0444 | 0.7915 ± 0.0637 | 0.8464 ± 0.0843 | 0.8300 ± 0.0245 | 0.8288 ± 0.0715 |
| sif_sgf_second | LR | 0.8568 ± 0.0205 | 0.8189 ± 0.0280 | 0.8734 ± 0.0273 | 0.8412 ± 0.0207 | 0.8958 ± 0.0351 |
| sif_sgf_second | RF | 0.8789 ± 0.0173 | 0.8387 ± 0.0250 | 0.8522 ± 0.0283 | 0.9081 ± 0.0189 | 0.8988 ± 0.0235 |
| sif_sgf_second | XGB | 0.8569 ± 0.0288 | 0.8119 ± 0.0383 | 0.8404 ± 0.0342 | 0.8747 ± 0.0315 | 0.8767 ± 0.0318 |

### 2.2 SGF 稳定性预测

| 数据集 | 模型 | F1 Score | Accuracy | Precision | Recall | AUC |
|--------|------|----------|----------|-----------|--------|-----|
| US9624268 | LR | 0.7632 ± 0.0969 | 0.7111 ± 0.1286 | 0.7447 ± 0.1274 | 0.7891 ± 0.0707 | 0.7975 ± 0.0964 |
| US9624268 | RF | 0.7387 ± 0.0607 | 0.6889 ± 0.0831 | 0.7318 ± 0.0886 | 0.7527 ± 0.0646 | 0.7651 ± 0.0626 |
| US9624268 | XGB | 0.7000 ± 0.0658 | 0.6333 ± 0.0969 | 0.6833 ± 0.1181 | 0.7291 ± 0.0458 | 0.6855 ± 0.1172 |
| US9809623B2 | LR | 1.0000 ± 0.0000 | 1.0000 ± 0.0000 | 1.0000 ± 0.0000 | 1.0000 ± 0.0000 | 1.0000 ± 0.0000 |
| US9809623B2 | RF | 0.7333 ± 0.3887 | 0.8333 ± 0.2108 | 0.8000 ± 0.4000 | 0.7000 ± 0.4000 | 1.0000 ± 0.0000 |
| US9809623B2 | XGB | 0.9200 ± 0.0980 | 0.8667 ± 0.1633 | 0.8667 ± 0.1633 | 1.0000 ± 0.0000 | 0.8000 ± 0.2449 |
| WO2017011820A2 | LR | 0.8501 ± 0.0380 | 0.8154 ± 0.0522 | 0.8892 ± 0.0743 | 0.8200 ± 0.0522 | 0.8862 ± 0.0416 |
| WO2017011820A2 | RF | 0.8927 ± 0.0486 | 0.8589 ± 0.0664 | 0.8704 ± 0.0539 | 0.9171 ± 0.0518 | 0.9175 ± 0.0338 |
| WO2017011820A2 | XGB | 0.8854 ± 0.0485 | 0.8506 ± 0.0598 | 0.8636 ± 0.0577 | 0.9190 ± 0.0979 | 0.9144 ± 0.0447 |
| sif_sgf_second | LR | 0.8281 ± 0.0202 | 0.8226 ± 0.0194 | 0.8418 ± 0.0357 | 0.8187 ± 0.0505 | 0.9103 ± 0.0235 |
| sif_sgf_second | RF | 0.8447 ± 0.0156 | 0.8388 ± 0.0145 | 0.8522 ± 0.0271 | 0.8392 ± 0.0376 | 0.9061 ± 0.0188 |
| sif_sgf_second | XGB | 0.8249 ± 0.0335 | 0.8172 ± 0.0286 | 0.8242 ± 0.0253 | 0.8291 ± 0.0656 | 0.9074 ± 0.0181 |

### 2.3 关键发现（交叉验证）

**SIF 最佳模型**: US20140294902A1 上的 LR, F1=1.0000
**SGF 最佳模型**: US9809623B2 上的 LR, F1=1.0000

---

## 3. 特征重要性分析

### US20140294902A1_SIF_rf_importance

| 排名 | 特征 | 重要性 |
|------|------|--------|
| 1 | Morgan_899 | 0.0440 |
| 2 | Morgan_689 | 0.0440 |
| 3 | Morgan_160 | 0.0330 |
| 4 | Morgan_148 | 0.0330 |
| 5 | PC_TPSA | 0.0330 |
| 6 | Morgan_125 | 0.0330 |
| 7 | Avalon_83 | 0.0330 |
| 8 | PC_FractionCSP3 | 0.0330 |
| 9 | Morgan_188 | 0.0330 |
| 10 | Morgan_693 | 0.0234 |

### US20140294902A1_SIF_xgb_importance

| 排名 | 特征 | 重要性 |
|------|------|--------|
| 1 | QED_MW | 0.0000 |
| 2 | QED_ALOGP | 0.0000 |
| 3 | QED_HBA | 0.0000 |
| 4 | QED_HBD | 0.0000 |
| 5 | QED_PSA | 0.0000 |
| 6 | QED_ROTB | 0.0000 |
| 7 | QED_AROM | 0.0000 |
| 8 | QED_ALERTS | 0.0000 |
| 9 | PC_MolWt | 0.0000 |
| 10 | PC_LogP | 0.0000 |

### US9624268_SGF_rf_importance

| 排名 | 特征 | 重要性 |
|------|------|--------|
| 1 | PC_MolWt | 0.0216 |
| 2 | PC_RigidityProxy | 0.0196 |
| 3 | GC_Sum | 0.0191 |
| 4 | PC_LogP | 0.0187 |
| 5 | PC_FractionCSP3 | 0.0185 |
| 6 | GC_Std | 0.0181 |
| 7 | GC_Mean | 0.0177 |
| 8 | Morgan_548 | 0.0170 |
| 9 | PC_HeavyAtomCount | 0.0166 |
| 10 | Avalon_292 | 0.0163 |

### US9624268_SGF_xgb_importance

| 排名 | 特征 | 重要性 |
|------|------|--------|
| 1 | Morgan_548 | 0.1532 |
| 2 | Avalon_309 | 0.0540 |
| 3 | Morgan_148 | 0.0533 |
| 4 | Avalon_395 | 0.0411 |
| 5 | Avalon_99 | 0.0362 |
| 6 | Avalon_178 | 0.0334 |
| 7 | Avalon_17 | 0.0321 |
| 8 | Avalon_162 | 0.0302 |
| 9 | GC_Min | 0.0285 |
| 10 | PC_RigidityProxy | 0.0260 |

### US9624268_SIF_rf_importance

| 排名 | 特征 | 重要性 |
|------|------|--------|
| 1 | GC_Sum | 0.0284 |
| 2 | GC_Std | 0.0262 |
| 3 | PC_MolWt | 0.0250 |
| 4 | GC_Mean | 0.0212 |
| 5 | QED_MW | 0.0212 |
| 6 | PC_NumAtoms | 0.0207 |
| 7 | PC_TPSA | 0.0191 |
| 8 | PC_RigidityProxy | 0.0182 |
| 9 | PC_HeavyAtomCount | 0.0177 |
| 10 | QED_PSA | 0.0176 |

### US9624268_SIF_xgb_importance

| 排名 | 特征 | 重要性 |
|------|------|--------|
| 1 | Morgan_926 | 0.1987 |
| 2 | Morgan_277 | 0.0744 |
| 3 | Morgan_887 | 0.0685 |
| 4 | Morgan_781 | 0.0469 |
| 5 | PC_Rings | 0.0454 |
| 6 | Avalon_249 | 0.0306 |
| 7 | Morgan_734 | 0.0291 |
| 8 | Morgan_592 | 0.0272 |
| 9 | Avalon_178 | 0.0265 |
| 10 | Morgan_3 | 0.0232 |

### US9809623B2_SGF_rf_importance

| 排名 | 特征 | 重要性 |
|------|------|--------|
| 1 | PC_TPSA | 0.0400 |
| 2 | Avalon_120 | 0.0374 |
| 3 | QED_PSA | 0.0261 |
| 4 | PC_RotB | 0.0250 |
| 5 | Avalon_353 | 0.0228 |
| 6 | Morgan_549 | 0.0219 |
| 7 | Avalon_383 | 0.0198 |
| 8 | Avalon_442 | 0.0197 |
| 9 | Avalon_229 | 0.0197 |
| 10 | Avalon_439 | 0.0185 |

### US9809623B2_SGF_xgb_importance

| 排名 | 特征 | 重要性 |
|------|------|--------|
| 1 | QED_PSA | 1.0000 |
| 2 | Morgan_1021 | 0.0000 |
| 3 | Morgan_1020 | 0.0000 |
| 4 | Morgan_1019 | 0.0000 |
| 5 | Morgan_1018 | 0.0000 |
| 6 | Morgan_1017 | 0.0000 |
| 7 | Morgan_1016 | 0.0000 |
| 8 | Morgan_1015 | 0.0000 |
| 9 | Morgan_1014 | 0.0000 |
| 10 | Morgan_1013 | 0.0000 |

### US9809623B2_SIF_rf_importance

| 排名 | 特征 | 重要性 |
|------|------|--------|
| 1 | GC_Mean | 0.0275 |
| 2 | PC_HeavyAtomCount | 0.0268 |
| 3 | PC_MolWt | 0.0225 |
| 4 | GC_Std | 0.0194 |
| 5 | PC_TPSA | 0.0186 |
| 6 | PC_LogP | 0.0171 |
| 7 | PC_NumAtoms | 0.0166 |
| 8 | Morgan_750 | 0.0162 |
| 9 | Morgan_545 | 0.0155 |
| 10 | Morgan_132 | 0.0155 |

### US9809623B2_SIF_xgb_importance

| 排名 | 特征 | 重要性 |
|------|------|--------|
| 1 | Morgan_636 | 0.1499 |
| 2 | Morgan_58 | 0.1052 |
| 3 | Morgan_303 | 0.0736 |
| 4 | Morgan_148 | 0.0686 |
| 5 | Morgan_419 | 0.0489 |
| 6 | PC_HeavyAtomCount | 0.0445 |
| 7 | QED_ALOGP | 0.0384 |
| 8 | Avalon_485 | 0.0379 |
| 9 | GC_Min | 0.0330 |
| 10 | Morgan_875 | 0.0279 |

### WO2017011820A2_SGF_rf_importance

| 排名 | 特征 | 重要性 |
|------|------|--------|
| 1 | GC_Std | 0.0194 |
| 2 | QED_PSA | 0.0186 |
| 3 | QED_ALOGP | 0.0183 |
| 4 | GC_Mean | 0.0166 |
| 5 | PC_LogP | 0.0163 |
| 6 | Avalon_379 | 0.0161 |
| 7 | PC_HBA | 0.0158 |
| 8 | PC_TPSA | 0.0153 |
| 9 | Avalon_36 | 0.0144 |
| 10 | GC_Sum | 0.0141 |

### WO2017011820A2_SGF_xgb_importance

| 排名 | 特征 | 重要性 |
|------|------|--------|
| 1 | Morgan_744 | 0.4335 |
| 2 | Avalon_409 | 0.0701 |
| 3 | Morgan_36 | 0.0517 |
| 4 | Avalon_324 | 0.0445 |
| 5 | QED_ALERTS | 0.0395 |
| 6 | Morgan_218 | 0.0360 |
| 7 | Avalon_129 | 0.0334 |
| 8 | Morgan_946 | 0.0235 |
| 9 | Morgan_731 | 0.0233 |
| 10 | Morgan_494 | 0.0224 |

### WO2017011820A2_SIF_rf_importance

| 排名 | 特征 | 重要性 |
|------|------|--------|
| 1 | GC_Mean | 0.0239 |
| 2 | PC_NumAtoms | 0.0238 |
| 3 | QED_MW | 0.0212 |
| 4 | GC_Sum | 0.0189 |
| 5 | GC_Std | 0.0188 |
| 6 | PC_FractionCSP3 | 0.0186 |
| 7 | PC_MolWt | 0.0165 |
| 8 | QED_ALOGP | 0.0163 |
| 9 | PC_LogP | 0.0162 |
| 10 | PC_TPSA | 0.0158 |

### WO2017011820A2_SIF_xgb_importance

| 排名 | 特征 | 重要性 |
|------|------|--------|
| 1 | Avalon_8 | 0.2244 |
| 2 | Morgan_781 | 0.0783 |
| 3 | Avalon_146 | 0.0633 |
| 4 | Avalon_436 | 0.0504 |
| 5 | Morgan_731 | 0.0473 |
| 6 | Morgan_284 | 0.0448 |
| 7 | Avalon_99 | 0.0394 |
| 8 | Morgan_510 | 0.0311 |
| 9 | GC_Min | 0.0247 |
| 10 | Avalon_423 | 0.0233 |

### sif_sgf_second_SGF_rf_importance

| 排名 | 特征 | 重要性 |
|------|------|--------|
| 1 | PC_LogP | 0.0243 |
| 2 | QED_ALOGP | 0.0237 |
| 3 | GC_Mean | 0.0206 |
| 4 | Morgan_336 | 0.0187 |
| 5 | GC_Std | 0.0185 |
| 6 | Avalon_272 | 0.0159 |
| 7 | PC_FractionCSP3 | 0.0146 |
| 8 | GC_Sum | 0.0139 |
| 9 | QED_MW | 0.0134 |
| 10 | PC_RigidityProxy | 0.0133 |

### sif_sgf_second_SGF_xgb_importance

| 排名 | 特征 | 重要性 |
|------|------|--------|
| 1 | Morgan_763 | 0.0733 |
| 2 | Morgan_550 | 0.0645 |
| 3 | Avalon_115 | 0.0456 |
| 4 | Morgan_392 | 0.0385 |
| 5 | QED_HBD | 0.0370 |
| 6 | Morgan_623 | 0.0220 |
| 7 | Morgan_5 | 0.0217 |
| 8 | Avalon_47 | 0.0205 |
| 9 | Avalon_234 | 0.0201 |
| 10 | Avalon_453 | 0.0187 |

### sif_sgf_second_SIF_rf_importance

| 排名 | 特征 | 重要性 |
|------|------|--------|
| 1 | PC_LogP | 0.0408 |
| 2 | QED_ALOGP | 0.0312 |
| 3 | GC_Std | 0.0213 |
| 4 | GC_Mean | 0.0172 |
| 5 | PC_FractionCSP3 | 0.0164 |
| 6 | PC_NumAtoms | 0.0160 |
| 7 | PC_RotB | 0.0159 |
| 8 | GC_Sum | 0.0157 |
| 9 | PC_HeavyAtomCount | 0.0149 |
| 10 | PC_MolWt | 0.0146 |

### sif_sgf_second_SIF_xgb_importance

| 排名 | 特征 | 重要性 |
|------|------|--------|
| 1 | Morgan_252 | 0.0825 |
| 2 | Morgan_345 | 0.0397 |
| 3 | Avalon_221 | 0.0303 |
| 4 | Avalon_36 | 0.0248 |
| 5 | Morgan_714 | 0.0194 |
| 6 | Morgan_604 | 0.0182 |
| 7 | Morgan_511 | 0.0182 |
| 8 | Morgan_538 | 0.0180 |
| 9 | Morgan_859 | 0.0178 |
| 10 | Morgan_484 | 0.0157 |

---

## 4. 模型迁移测试

### 4.1 SIF 稳定性迁移

| 训练集 | 测试集 | 模型 | F1 Score | Accuracy | AUC |
|--------|--------|------|----------|----------|-----|
| US20140294902A1 | US9624268 | LR | 0.7379 | 0.5846 | 0.5000 |
| US20140294902A1 | US9624268 | RF | 0.7488 | 0.6077 | 0.6316 |
| US20140294902A1 | US9624268 | XGB | 0.7379 | 0.5846 | 0.5000 |
| US20140294902A1 | US9809623B2 | LR | 0.8031 | 0.6711 | 0.4251 |
| US20140294902A1 | US9809623B2 | RF | 0.7869 | 0.6579 | 0.3830 |
| US20140294902A1 | US9809623B2 | XGB | 0.8125 | 0.6842 | 0.5000 |
| US20140294902A1 | WO2017011820A2 | LR | 0.7752 | 0.6329 | 0.5000 |
| US20140294902A1 | WO2017011820A2 | RF | 0.7752 | 0.6329 | 0.7221 |
| US20140294902A1 | WO2017011820A2 | XGB | 0.7752 | 0.6329 | 0.5000 |
| US20140294902A1 | sif_sgf_second | LR | 0.7830 | 0.6434 | 0.5000 |
| US20140294902A1 | sif_sgf_second | RF | 0.7830 | 0.6434 | 0.7049 |
| US20140294902A1 | sif_sgf_second | XGB | 0.7830 | 0.6434 | 0.5000 |
| US9624268 | US20140294902A1 | LR | 0.5000 | 0.6000 | 1.0000 |
| US9624268 | US20140294902A1 | RF | 0.8000 | 0.8000 | 1.0000 |
| US9624268 | US20140294902A1 | XGB | 0.5000 | 0.6000 | 1.0000 |
| US9624268 | US9809623B2 | LR | 0.2581 | 0.3947 | 0.5361 |
| US9624268 | US9809623B2 | RF | 0.7111 | 0.6579 | 0.6450 |
| US9624268 | US9809623B2 | XGB | 0.8073 | 0.7237 | 0.6454 |
| US9624268 | WO2017011820A2 | LR | 0.6000 | 0.5443 | 0.5354 |
| US9624268 | WO2017011820A2 | RF | 0.6667 | 0.5823 | 0.5466 |
| US9624268 | WO2017011820A2 | XGB | 0.6316 | 0.5570 | 0.5297 |
| US9624268 | sif_sgf_second | LR | 0.0109 | 0.3495 | 0.4569 |
| US9624268 | sif_sgf_second | RF | 0.0000 | 0.3548 | 0.5223 |
| US9624268 | sif_sgf_second | XGB | 0.1883 | 0.3513 | 0.4676 |
| US9809623B2 | US20140294902A1 | LR | 0.0000 | 0.0000 | 0.0000 |
| US9809623B2 | US20140294902A1 | RF | 0.3333 | 0.2000 | 0.0000 |
| US9809623B2 | US20140294902A1 | XGB | 0.3333 | 0.2000 | 0.1667 |
| US9809623B2 | US9624268 | LR | 0.7553 | 0.6462 | 0.6394 |
| US9809623B2 | US9624268 | RF | 0.7415 | 0.5923 | 0.6868 |
| US9809623B2 | US9624268 | XGB | 0.5120 | 0.5308 | 0.6284 |
| US9809623B2 | WO2017011820A2 | LR | 0.7729 | 0.6392 | 0.5909 |
| US9809623B2 | WO2017011820A2 | RF | 0.7734 | 0.6329 | 0.5826 |
| US9809623B2 | WO2017011820A2 | XGB | 0.7581 | 0.6203 | 0.4584 |
| US9809623B2 | sif_sgf_second | LR | 0.4796 | 0.4749 | 0.5434 |
| US9809623B2 | sif_sgf_second | RF | 0.7295 | 0.6093 | 0.5272 |
| US9809623B2 | sif_sgf_second | XGB | 0.2992 | 0.3871 | 0.4261 |
| WO2017011820A2 | US20140294902A1 | LR | 0.0000 | 0.4000 | 0.3333 |
| WO2017011820A2 | US20140294902A1 | RF | 0.0000 | 0.4000 | 0.9167 |
| WO2017011820A2 | US20140294902A1 | XGB | 0.0000 | 0.4000 | 0.6667 |
| WO2017011820A2 | US9624268 | LR | 0.6242 | 0.5462 | 0.5375 |
| WO2017011820A2 | US9624268 | RF | 0.6104 | 0.5385 | 0.5674 |
| WO2017011820A2 | US9624268 | XGB | 0.6065 | 0.5308 | 0.5504 |
| WO2017011820A2 | US9809623B2 | LR | 0.0000 | 0.2895 | 0.5224 |
| WO2017011820A2 | US9809623B2 | RF | 0.0000 | 0.3158 | 0.5633 |
| WO2017011820A2 | US9809623B2 | XGB | 0.0000 | 0.3158 | 0.4079 |
| WO2017011820A2 | sif_sgf_second | LR | 0.0055 | 0.3548 | 0.3076 |
| WO2017011820A2 | sif_sgf_second | RF | 0.0535 | 0.3656 | 0.5286 |
| WO2017011820A2 | sif_sgf_second | XGB | 0.0743 | 0.3746 | 0.5263 |
| sif_sgf_second | US20140294902A1 | LR | 0.0000 | 0.4000 | 0.6667 |
| sif_sgf_second | US20140294902A1 | RF | 0.8000 | 0.8000 | 1.0000 |
| sif_sgf_second | US20140294902A1 | XGB | 0.0000 | 0.4000 | 1.0000 |
| sif_sgf_second | US9624268 | LR | 0.0000 | 0.4154 | 0.5543 |
| sif_sgf_second | US9624268 | RF | 0.4220 | 0.5154 | 0.6227 |
| sif_sgf_second | US9624268 | XGB | 0.0000 | 0.4077 | 0.4754 |
| sif_sgf_second | US9809623B2 | LR | 0.1404 | 0.3553 | 0.6138 |
| sif_sgf_second | US9809623B2 | RF | 0.6593 | 0.5921 | 0.5268 |
| sif_sgf_second | US9809623B2 | XGB | 0.0000 | 0.3158 | 0.6867 |
| sif_sgf_second | WO2017011820A2 | LR | 0.0000 | 0.3671 | 0.6587 |
| sif_sgf_second | WO2017011820A2 | RF | 0.3910 | 0.4873 | 0.7004 |
| sif_sgf_second | WO2017011820A2 | XGB | 0.0577 | 0.3797 | 0.6258 |

### 4.2 SGF 稳定性迁移

| 训练集 | 测试集 | 模型 | F1 Score | Accuracy | AUC |
|--------|--------|------|----------|----------|-----|
| US9624268 | US9809623B2 | LR | 0.0000 | 0.4167 | 0.7143 |
| US9624268 | US9809623B2 | RF | 0.6667 | 0.6667 | 0.5143 |
| US9624268 | US9809623B2 | XGB | 0.6667 | 0.5000 | 0.7571 |
| US9624268 | WO2017011820A2 | LR | 0.5641 | 0.5526 | 0.6505 |
| US9624268 | WO2017011820A2 | RF | 0.7218 | 0.6754 | 0.7341 |
| US9624268 | WO2017011820A2 | XGB | 0.6412 | 0.5877 | 0.6541 |
| US9624268 | sif_sgf_second | LR | 0.0189 | 0.4409 | 0.3628 |
| US9624268 | sif_sgf_second | RF | 0.0134 | 0.4731 | 0.6152 |
| US9624268 | sif_sgf_second | XGB | 0.1190 | 0.4427 | 0.4354 |
| US9809623B2 | US9624268 | LR | 0.7324 | 0.5778 | 0.5000 |
| US9809623B2 | US9624268 | RF | 0.7376 | 0.5889 | 0.4087 |
| US9809623B2 | US9624268 | XGB | 0.7324 | 0.5778 | 0.5000 |
| US9809623B2 | WO2017011820A2 | LR | 0.7528 | 0.6140 | 0.5002 |
| US9809623B2 | WO2017011820A2 | RF | 0.7528 | 0.6140 | 0.3363 |
| US9809623B2 | WO2017011820A2 | XGB | 0.7528 | 0.6140 | 0.5010 |
| US9809623B2 | sif_sgf_second | LR | 0.4489 | 0.5072 | 0.5380 |
| US9809623B2 | sif_sgf_second | RF | 0.4385 | 0.5090 | 0.4520 |
| US9809623B2 | sif_sgf_second | XGB | 0.4489 | 0.5072 | 0.5132 |
| WO2017011820A2 | US9624268 | LR | 0.7097 | 0.7000 | 0.7677 |
| WO2017011820A2 | US9624268 | RF | 0.7525 | 0.7222 | 0.7027 |
| WO2017011820A2 | US9624268 | XGB | 0.7115 | 0.6667 | 0.6923 |
| WO2017011820A2 | US9809623B2 | LR | 0.7368 | 0.5833 | 0.6571 |
| WO2017011820A2 | US9809623B2 | RF | 0.6250 | 0.5000 | 0.4429 |
| WO2017011820A2 | US9809623B2 | XGB | 0.5882 | 0.4167 | 0.6429 |
| WO2017011820A2 | sif_sgf_second | LR | 0.3342 | 0.5143 | 0.4529 |
| WO2017011820A2 | sif_sgf_second | RF | 0.6354 | 0.4982 | 0.5292 |
| WO2017011820A2 | sif_sgf_second | XGB | 0.7039 | 0.5914 | 0.6320 |
| sif_sgf_second | US9624268 | LR | 0.0000 | 0.4222 | 0.7217 |
| sif_sgf_second | US9624268 | RF | 0.4571 | 0.5778 | 0.7819 |
| sif_sgf_second | US9624268 | XGB | 0.0000 | 0.4222 | 0.6675 |
| sif_sgf_second | US9809623B2 | LR | 0.2500 | 0.5000 | 0.7429 |
| sif_sgf_second | US9809623B2 | RF | 0.2500 | 0.5000 | 0.2571 |
| sif_sgf_second | US9809623B2 | XGB | 0.0000 | 0.4167 | 0.3143 |
| sif_sgf_second | WO2017011820A2 | LR | 0.0000 | 0.3684 | 0.5982 |
| sif_sgf_second | WO2017011820A2 | RF | 0.2439 | 0.4561 | 0.7617 |
| sif_sgf_second | WO2017011820A2 | XGB | 0.0000 | 0.3684 | 0.5822 |

### 4.3 关键发现（模型迁移）

**SIF 最佳迁移**: US20140294902A1 → US9809623B2, XGB, F1=0.8125
**SGF 最佳迁移**: US9809623B2 → WO2017011820A2, LR, F1=0.7528

---

## 5. 总结与结论

Phase 3 已成功完成，实现了以下目标：

1. ✅ 完成了 27 个交叉验证实验
2. ✅ 提取了 18 个特征重要性分析
3. ✅ 完成了 96 个模型迁移测试
4. ✅ 生成了详细的可视化报告

**关键洞察**:

1. **模型性能**: 所有三种模型（LR, RF, XGBoost）在大多数数据集上表现良好，F1 Score 在 0.65-0.85 之间
2. **数据集差异**: 不同专利数据集的模型性能存在显著差异，反映了数据集的异质性
3. **特征重要性**: LogP、分子量等物理化学特征对稳定性预测最为重要
4. **模型迁移**: 跨数据集迁移性能下降，表明需要领域适应技术

---

**报告日期**: 2025-11-14
**报告生成**: 自动生成（scripts/generate_phase3_report.py）
